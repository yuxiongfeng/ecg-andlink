<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <title>React App</title>

</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

</body>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script src="https://open.home.komect.com/jssdk/hejia-1.5.0.min.js"></script>
<script src="./hello.js"></script>

<script>
  //定义一个注册组件对象的函数,这个方法要保证在组件注册之前调用
  window.registerListens = function (lst) {
    listeners.push(lst);
  }

  function callByAndroid(params) {
    var ecgDatas = [...params];
    let names = listeners.map(e => e.name).join(",")
    listeners.forEach(lst => lst.onMessage(ecgDatas));
  };

  Hejia.ready(function () {
    // 页面加载完成后要立即调用Hejia全局对象执行的代码逻辑写这里
    alert("hejia ready.")
    window.Hejia = Hejia;
  });

  document.addEventListener("plusready", function () {
    // 注册返回按键事件
    plus.key.addEventListener('backbutton', function () {
      window.history.go(-1);
    }, false);
  });

</script>

</html>